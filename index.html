//server
import socket

# Create a socket object
server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

# Bind the socket to an IP address and port
server_socket.bind(('0.0.0.0', 12345))  # 0.0.0.0 listens on all interfaces

# Listen for incoming connections
server_socket.listen(5)
print("Server listening on port 12345...")

# Accept client connections
client_socket, client_address = server_socket.accept()
print(f"Connection established with {client_address}")

# Receive data from the client
message = client_socket.recv(1024)
print(f"Received message: {message.decode()}")

# Send a response to the client
client_socket.send("Message received".encode())

# Close the connection
client_socket.close()

//client
import socket

# Create a socket object
client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)

# Connect to the server (ubuntu-first)
client_socket.connect(('10.134.57.219', 12345))  # Use the IP address of ubuntu-first

# Send a message to the server
client_socket.send("Hello from ubuntu-second!".encode())

# Receive the server's response
response = client_socket.recv(1024)
print(f"Server response: {response.decode()}")

# Close the connection
client_socket.close()